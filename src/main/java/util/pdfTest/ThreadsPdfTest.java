package util.pdfTest;

import com.alibaba.fastjson.JSONObject;
import java.util.Scanner;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;

/**
 * @program: linuxtest
 * @description:
 * @author: YeDongYu
 * @create: 2019-10-25 16:18
 */
public class ThreadsPdfTest {

    static class PdfThread extends Thread{
        private Integer num;
        private String htmlString;

        PdfThread(Integer num,String htmlString){
            this.num = num;
            this.htmlString = htmlString;
        }

        @Override
        public void run(){
            long l = System.currentTimeMillis();
            System.out.println("开始转换pdf" + num + "时间:" + l);
            new Html2Pdf().convertReportHtml2Pdf(htmlString, "pdf" + num);
            long l2 = System.currentTimeMillis();
            System.out.println("结束转换pdf" + num+ "时间:" + l2 + "耗时:" + (l2-l));
        }
    }

    public static void main(String[] args) throws InterruptedException {
        JSONObject jsonObject = JSONObject.parseObject(html);
        String htmlString = jsonObject.getString("html");
        Scanner scanner = new Scanner(System.in);
        String ran = scanner.nextLine();
        ExecutorService executorService = Executors.newFixedThreadPool(10);
        for (int i=0;i<10;i++){
            String s = new String(htmlString);
            executorService.execute(new PdfThread(num++,s));
        }
        while (executorService.isTerminated()){
            executorService.wait(1000);
        }
        executorService.shutdown();
    }

    private static int num = 0;

    private static final String html = "{\"html\":\"<div id=\\\"print\\\" class=\\\"print-area report-bo report-screen\\\"><div class=\\\"report-page-header cut-page-header\\\"><h3>图文报告</h3></div><div class=\\\"report-title-wrap cut-title\\\"><div class=\\\"report-title\\\"><span data-v-4143dc64=\\\"\\\">\\n      骨龄评估报告单\\n    </span></div></div><div class=\\\"report-patient-wrap cut-patient\\\"><div class=\\\"report-patient-info\\\"><div class=\\\"el-row is-justify-space-around el-row--flex\\\"><div class=\\\"formitem el-col el-col-6\\\"><span class=\\\"formitem-title text-justify\\\">姓名</span><span class=\\\"formitem-title_sign\\\">:</span> <input type=\\\"text\\\" class=\\\"input-blank screen-show\\\" style=\\\"width: 8.5em;\\\" value=\\\"\\\"> <span class=\\\"screen-hide\\\">骨龄随访1-2</span></div> <div class=\\\"formitem el-col el-col-6\\\"><span class=\\\"formitem-title text-justify\\\">性别</span><span class=\\\"formitem-title_sign\\\">:</span> <span class=\\\"formitem-content\\\">女</span></div> <div class=\\\"formitem el-col el-col-6\\\"><span class=\\\"formitem-title text-justify\\\" style=\\\"flex-shrink: 0;\\\">年龄</span><span class=\\\"formitem-title_sign\\\">:</span> <input type=\\\"text\\\" class=\\\"input-blank screen-show\\\" style=\\\"width: 8.5em;\\\" value=\\\"\\\"> <span class=\\\"screen-hide\\\">10岁11月</span></div> <div class=\\\"formitem el-col el-col-6\\\"><span class=\\\"formitem-title text-justify\\\">检查号</span><span class=\\\"formitem-title_sign\\\">:</span> <span class=\\\"formitem-content\\\">12335</span></div></div> <div class=\\\"el-row is-justify-space-around el-row--flex\\\"><div class=\\\"formitem el-col el-col-6\\\" style=\\\"position: relative;\\\"><span class=\\\"formitem-title text-justify\\\">影像号</span><span class=\\\"formitem-title_sign\\\">:</span> <span class=\\\"formitem-content\\\">5000001</span></div> <div class=\\\"formitem el-col el-col-6\\\"><span class=\\\"formitem-title text-justify\\\" style=\\\"flex-shrink: 0;\\\">送检科室</span><span class=\\\"formitem-title_sign\\\">:</span> <input type=\\\"text\\\" placeholder=\\\"请输入送检科室\\\" class=\\\"input-blank screen-show\\\" style=\\\"width: 8.5em;\\\" value=\\\"\\\"> <span class=\\\"screen-hide\\\"></span></div> <div class=\\\"formitem el-col el-col-6\\\"><span class=\\\"formitem-title text-justify\\\" style=\\\"flex-shrink: 0;\\\">送检医生</span><span class=\\\"formitem-title_sign\\\">:</span> <input type=\\\"text\\\" placeholder=\\\"请输入送检医生\\\" class=\\\"input-blank screen-show\\\" style=\\\"width: 8.5em;\\\" value=\\\"\\\"> <span class=\\\"screen-hide\\\"></span></div> <div class=\\\"formitem el-col el-col-6\\\"><span class=\\\"formitem-title text-justify\\\" style=\\\"flex-shrink: 0;\\\">检查日期</span><span class=\\\"formitem-title_sign\\\">:</span> <input type=\\\"text\\\" class=\\\"input-blank screen-show\\\" style=\\\"width: 8.5em;\\\" value=\\\"\\\"> <span class=\\\"screen-hide\\\">2018-12-28</span></div></div></div></div><div class=\\\"report-main-wrap\\\" style=\\\"height: 1205px; overflow: hidden;\\\"><div data-v-4143dc64=\\\"\\\" class=\\\"report-cell-wrap cut-cell\\\"><div data-v-4143dc64=\\\"\\\" class=\\\"report-card\\\"><div class=\\\"report-card-title\\\"><span class=\\\"report-card-title_text\\\">\\n        影像可见\\n      </span></div> <div class=\\\"report-card-main\\\"><p data-v-4143dc64=\\\"\\\" class=\\\"report-p\\\">\\n        检查方法: 中华05方法，应用范围(女性)：R系列2岁至17岁，C系列3岁至11岁6月；\\n      </p> <p data-v-4143dc64=\\\"\\\" class=\\\"report-p\\\">左腕部可见8枚骨化中心，接近成人型，钩骨钩突可见，尺骨远端骨骺可见，尺骨茎突可见，第一掌骨关节旁籽骨可见。</p> <div data-v-4143dc64=\\\"\\\" class=\\\"el-row\\\"><div data-v-4143dc64=\\\"\\\" class=\\\"el-col el-col-12\\\"><table data-v-4143dc64=\\\"\\\" class=\\\"report-table\\\"><thead data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead\\\"><tr data-v-4143dc64=\\\"\\\"><th data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead_text\\\">R系列骨</th> <th data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead_text\\\">等级</th> <th data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead_text report-table-thead_border\\\">分值</th></tr></thead> <tbody data-v-4143dc64=\\\"\\\"><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">桡骨</td> <td data-v-4143dc64=\\\"\\\">10</td> <td data-v-4143dc64=\\\"\\\">178</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">尺骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">120</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第一掌骨</td> <td data-v-4143dc64=\\\"\\\">8</td> <td data-v-4143dc64=\\\"\\\">41</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第三掌骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">32</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第五掌骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">33</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第一近节指骨</td> <td data-v-4143dc64=\\\"\\\">9</td> <td data-v-4143dc64=\\\"\\\">45</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第三近节指骨</td> <td data-v-4143dc64=\\\"\\\">8</td> <td data-v-4143dc64=\\\"\\\">29</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第五近节指骨</td> <td data-v-4143dc64=\\\"\\\">8</td> <td data-v-4143dc64=\\\"\\\">29</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第三中节指骨</td> <td data-v-4143dc64=\\\"\\\">9</td> <td data-v-4143dc64=\\\"\\\">35</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第五中节指骨</td> <td data-v-4143dc64=\\\"\\\">9</td> <td data-v-4143dc64=\\\"\\\">35</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第一远节指骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">38</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第三远节指骨</td> <td data-v-4143dc64=\\\"\\\">8</td> <td data-v-4143dc64=\\\"\\\">33</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">第五远节指骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">29</td></tr> <tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\" colspan=\\\"3\\\" style=\\\"border-right: none;\\\"><span data-v-4143dc64=\\\"\\\">R系列成熟度得分(SMS)677</span></td></tr> <tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\" colspan=\\\"3\\\" style=\\\"border-right: none;\\\"><span data-v-4143dc64=\\\"\\\">R系列骨龄11岁10月</span></td></tr></tbody></table></div> <div data-v-4143dc64=\\\"\\\" class=\\\"el-col el-col-12\\\"><table data-v-4143dc64=\\\"\\\" class=\\\"report-table\\\"><thead data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead\\\"><tr data-v-4143dc64=\\\"\\\"><th data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead_text\\\">C系列骨</th> <th data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead_text\\\">等级</th> <th data-v-4143dc64=\\\"\\\" class=\\\"report-table-thead_text\\\">分值</th></tr></thead> <tbody data-v-4143dc64=\\\"\\\"><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">头状骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">203</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">钩骨</td> <td data-v-4143dc64=\\\"\\\">8</td> <td data-v-4143dc64=\\\"\\\">194</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">三角骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">126</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">月骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">122</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">舟骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">118</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">大多角骨</td> <td data-v-4143dc64=\\\"\\\">7</td> <td data-v-4143dc64=\\\"\\\">111</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">小多角骨</td> <td data-v-4143dc64=\\\"\\\">6</td> <td data-v-4143dc64=\\\"\\\">97</td></tr> <tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td></tr><tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td> <td data-v-4143dc64=\\\"\\\">&nbsp;</td></tr> <tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\" colspan=\\\"3\\\" style=\\\"border-right: none;\\\"><span data-v-4143dc64=\\\"\\\">C系列成熟度得分(SMS)971</span></td></tr> <tr data-v-4143dc64=\\\"\\\"><td data-v-4143dc64=\\\"\\\" colspan=\\\"3\\\" style=\\\"border-right: none;\\\"><span data-v-4143dc64=\\\"\\\">C系列骨龄11岁0月</span></td></tr></tbody></table></div></div></div></div> <div data-v-4143dc64=\\\"\\\" class=\\\"report-card\\\"><div class=\\\"report-card-title\\\"><span class=\\\"report-card-title_text\\\">\\n        诊断意见\\n      </span></div> <div class=\\\"report-card-main\\\"><div data-v-4143dc64=\\\"\\\" contenteditable=\\\"true\\\" spellcheck=\\\"false\\\" class=\\\"report-p\\\">\\n        生活年龄10岁11月，R系列骨龄11岁10月，R系列骨龄比年龄大0岁11月，C系列骨龄11岁0月，C系列骨龄比年龄大0岁1月。\\n      </div> <div data-v-4143dc64=\\\"\\\" contenteditable=\\\"true\\\" spellcheck=\\\"false\\\" class=\\\"report-p\\\">\\n        建议预测身高6个月后复查。\\n      </div></div></div></div></div><div class=\\\"report-footer-wrap cut-foot\\\"><div class=\\\"report-footer report-patient-info\\\" style=\\\"padding-bottom: 4px;\\\"><div class=\\\"el-row\\\"><div class=\\\"el-col el-col-8\\\"><div class=\\\"formitem\\\"><div class=\\\"formcontrol\\\"><div class=\\\"formcontrol-label formitem-title\\\">\\n                    报告日期：2019年10月26日\\n                  </div></div></div></div> <div class=\\\"el-col el-col-8\\\"><div class=\\\"formitem\\\"><div class=\\\"formcontrol\\\"><div class=\\\"formcontrol-label formitem-title text-center\\\">\\n                    报告医师：\\n                  </div> <!----> <input placeholder=\\\"请输入报告医师\\\" class=\\\"screen-show formcontrol-input input-blank\\\"> <span class=\\\"screen-hide\\\"></span> <!----></div></div></div> <div class=\\\"el-col el-col-8\\\"><div class=\\\"formitem\\\"><div class=\\\"formcontrol\\\"><div class=\\\"formcontrol-label formitem-title text-center\\\">\\n                    审核医师：\\n                  </div> <!----> <input placeholder=\\\"请输入审核医师\\\" class=\\\"screen-show formcontrol-input input-blank\\\"> <span class=\\\"screen-hide\\\"></span> <!----></div></div></div></div></div> <div class=\\\"report-page-footer\\\"><div data-v-4143dc64=\\\"\\\" style=\\\"padding-bottom: 12px; padding-top: 6px;\\\">\\n    注：本报告仅供参考，骨龄评价事宜请咨询医师。\\n  </div></div></div></div>\"}";
}
